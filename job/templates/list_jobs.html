{% extends "base.html" %}


{% block content %}

<div class="w-full p-8 " id="jobsList">
    <div class="flex justify-center">
        <div class="my-8 w-3/4 flex rounded-l-full rounded-r-full border-solid border-2 p-2">
            <div class="flex basis-1/4 items-center border-r-2 px-4">
                <i class="fas fa-search mx-2 text-primary"></i>
                <input type="text">
            </div>
            <div class="flex basis-1/4 items-center border-r-2 px-4">
                <i class="fas fa-search mx-2 text-primary"></i>
                <input type="text">
            </div>
            <div class="flex basis-1/4 items-center px-4">
                <i class="fas fa-search mx-2 text-primary"></i>
                <input type="text">
            </div>
            <button class="rounded-full bg-primary text-white p-4 w-full">Rechercher</button>
        </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mt-20">
        <div class="">
            <!-- Single Job Post -->
            <div
                class="bg-white shadow-lg h-80 w-full flex flex-col justify-between gap-4 px-4 py-4 rounded-lg overflow-scroll">
                <h2 class="font-bold">DÃ©veloppeur JAVA/J2EE H/F - POEI</h2>

                <p class="uppercase">Talent RH</p>

                <p class="uppercase">44000</p>

                <p class="">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Modi maxime veniam in illum dolore
                    atque ipsa nemo consequatur, hic sunt, odio incidunt nulla. Voluptatum laborum hic facilis debitis
                    optio quod?</p>

                <button class="block lg:hidden bg-secondary">Postuler</button>

                <div class="self-baseline">
                    <p>Il y'a 2 jours.</p>
                </div>
            </div>
        </div>

        <div class="hidden lg:block lg:col-span-2 h-screen bg-white border-[2px] border-secondary rounded-lg"></div>
    </div>
</div>


{% include './components/footer.html' %}

{% endblock %}

{% block vueJs %}
<script>
    const appJobsList = Vue.createApp({
        delimiters: ["[[", "]]"],
        data() {
            return {
                title: 'Hello Vue!',
                job: null,
            }
        },
        methods: {
            async getJobDetail(e) {
                const jobId = e.currentTarget.dataset.jobId

                const response = await fetch(`/jobs/${jobId}`, {
                    method: 'GET',
                    headers: {
                        "X-CSRFToken": getCookie("csrftoken"),
                    },
                })

                if (response.ok) {
                    const {
                        job
                    } = await response.json()

                    this.job = job
                }
            }
        },
    }).mount('#jobsList')
</script>

<style>
    * {
        box-sizing: border-box;
        /* SCROLLBAR */
        scrollbar-width: thin;
        scrollbar-color: rgba(0, 0, 0, 0.3) transparent;
    }

    /* SCROLLBAR */
    *::-webkit-scrollbar,
    *::-webkit-scrollbar-thumb {
        width: 10px;
        height: 10px;
        border-radius: 13px;
        background-clip: padding-box;
        border: 2px solid transparent;
        color: rgba(0, 0, 0, 0.3);
        background: transparent;
    }

    *::-webkit-scrollbar-thumb {
        box-shadow: inset 0 0 0 10px;
    }
</style>

{% endblock %}